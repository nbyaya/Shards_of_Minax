using System;
using Server;
using Server.Mobiles;
using Server.Items;
using Server.Engines.XmlSpawner2;

namespace Server.Engines.XmlSpawner2
{
    public class XmlRandomMinionStrike : XmlAttachment
    {
        // Define a list of monster types for MinionStrike
        private static readonly string[] MinionList = new string[]
        {
            "AbysmalHorror",
            "AbyssalAbomination",
            "AcidElemental",
            "AcidPopper",
            "AcidSlug",
            "AgapiteElemental",
            "AirElemental",
            "Alligator",
            "AncientLich",
            "AncientWyrm",
            "AntLion",
            "ArcaneDaemon",
            "ArchDaemon",
            "ArcticOgreLord",
            "BakeKitsune",
            "Balron",
            "BaseCreature",
            "BaseMount",
            "BaseRenowned",
            "BaseSABosses",
            "BattleChickenLizard",
            "Beetle",
            "Betrayer",
            "Bird",
            "BlackBear",
            "BlackSolenInfiltratorQueen",
            "BlackSolenInfiltratorWarrior",
            "BlackSolenQueen",
            "BlackSolenWarrior",
            "BlackSolenWorker",
            "BloodElemental",
            "BloodFox",
            "BloodWorm",
            "Boar",
            "Bogle",
            "Bogling",
            "BogThing",
            "BoneDemon",
            "BoneKnight",
            "BoneMagi",
            "Brigand",
            "BronzeElemental",
            "BrownBear",
            "BulbousPutrification",
            "Bull",
            "BullFrog",
            "CapturedHordeMinion",
            "Cat",
            "Centaur",
            "Changeling",
            "ChaosDaemon",
            "ChaosDragoon",
            "ChaosDragoonElite",
            "Chicken",
            "ChickenLizard",
            "ClanCA",
            "ClanCT",
            "ClanRC",
            "ClanRibbonPlagueRat",
            "ClanRS",
            "ClanSH",
            "ClanSS",
            "ClanSSW",
            "ClockworkScorpion",
            "CoconutCrab",
            "ColdDrake",
            "CopperElemental",
            "CoralSnake",
            "CorporealBrume",
            "Corpser",
            "CorrosiveSlime",
            "CorruptedSoul",
            "Cougar",
            "Cow",
            "Crane",
            "CrimsonDrake",
            "CrystalDaemon",
            "CrystalElemental",
            "CrystalHydra",
            "CrystalLatticeSeeker",
            "CrystalSeaSerpent",
            "CrystalVortex",
            "CrystalWisp",
            "Cursed",
            "CursedSoul",
            "CuSidhe",
            "Cyclops",
            "Daemon",
            "DarkGuardian",
            "DarknightCreeper",
            "DarkWisp",
            "DeadlyImp",
            "DeathWatchBeetle",
            "DeathWatchBeetleHatchling",
            "DeepSeaSerpent",
            "DemonKnight",
            "DesertOstard",
            "DespiseCreature",
            "DespiseEvilCreatures",
            "DespiseGoodCreatures",
            "Devourer",
            "DireWolf",
            "DiseasedCat",
            "Dog",
            "Dolphin",
            "Doppleganger",
            "Dragon",
            "DragonsFlameGrandMage",
            "DragonsFlameMage",
            "DragonWolf",
            "Drake",
            "DreadSpider",
            "DreadWarhorse",
            "DreamWraith ",
            "DullCopperElemental",
            "Eagle",
            "EarthElemental",
            "EffetePutridGargoyle",
            "EffeteUndeadGargoyle",
            "Efreet",
            "ElderGazer",
            "ElfBrigand",
            "EliteNinja",
            "EnragedCollosus",
            "EnragedCreatures",
            "EnragedEarthElemental",
            "EnslavedGargoyle",
            "EnslavedGoblinKeeper",
            "EnslavedGoblinMage",
            "EnslavedGoblinScout",
            "EnslavedGrayGoblin",
            "EnslavedGreenGoblin",
            "EnslavedGreenGoblinAlchemist",
            "EnslavedSatyr",
            "Eowmu",
            "Ethereals",
            "EtherealWarrior",
            "Ettin",
            "EvilMage",
            "EvilMageLord",
            "Executioner",
            "ExodusMinion",
            "ExodusOverseer",
            "FairyDragon",
            "FanDancer",
            "FeralTreefellow",
            "Ferret",
            "FetidEssence",
            "FierceDragon",
            "FireAnt",
            "FireBeetle",
            "FireDaemon",
            "FireElemental",
            "FireGargoyle",
            "FireRabbit",
            "FireSteed",
            "FleshGolem",
            "FleshRenderer",
            "ForestOstard",
            "ForgottenServant",
            "FrenziedOstard",
            "FrostDragon",
            "FrostDrake",
            "FrostMite",
            "FrostOoze",
            "FrostSpider",
            "FrostTroll",
            "Gaman",
            "GargishOutcast",
            "GargishRouser",
            "Gargoyle",
            "GargoyleDestroyer",
            "GargoyleEnforcer",
            "GargoyleGuardian",
            "GargoyleShade",
            "Gazer",
            "GazerLarva",
            "Ghoul",
            "GiantBlackWidow",
            "GiantIceWorm",
            "GiantRat",
            "GiantSerpent",
            "GiantSpider",
            "GiantToad",
            "GiantTurkey",
            "Gibberling",
            "Goat",
            "GoldenElemental",
            "Golem",
            "GolemController",
            "GoreFiend",
            "Gorilla",
            "GrayGoblin",
            "GrayGoblinKeeper",
            "GrayGoblinMage",
            "GreaterDragon",
            "GreaterMongbat",
            "GreaterPoisonElemental",
            "GreatHart",
            "GreenGoblin",
            "GreenGoblinAlchemist",
            "GreenGoblinScout",
            "Gregorio",
            "Gremlin",
            "GreyWolf",
            "GrizzlyBear",
            "Grubber",
            "Guardian",
            "Harpy",
            "HeadlessOne",
            "HellCat",
            "HellHound",
            "HellSteed",
            "HighPlainsBoura",
            "Hind",
            "Hiryu",
            "HordeMinion",
            "Horse",
            "HumanBrigand",
            "HungryCoconutCrab",
            "Hydra",
            "IceElemental",
            "IceFiend",
            "Icehound",
            "IceSerpent",
            "IceSnake",
            "Imp",
            "Impaler",
            "InjuredWolf",
            "InsaneDryad",
            "InterredGrizzle ",
            "IronBeetle",
            "JackRabbit",
            "Juggernaut",
            "JukaLord",
            "JukaMage",
            "JukaWarrior",
            "Jwilson",
            "Kappa",
            "KazeKemono",
            "Kepetch",
            "KepetchAmbusher",
            "KhaldunRevenant",
            "KhaldunSummoner",
            "KhaldunZealot",
            "Kirin",
            "Kraken",
            "LadyOfTheSnow",
            "Lasher",
            "LavaElemental",
            "LavaLizard",
            "LavaSerpent",
            "LavaSnake",
            "LeatherWolf",
            "LesserHiryu",
            "Leviathan",
            "Lich",
            "LichLord",
            "Lifestealer",
            "Lion",
            "Lizardman",
            "Llama",
            "LowlandBoura",
            "Macaw",
            "MaddeningHorror",
            "MantraEffervescence",
            "MeerCaptain",
            "MeerEternal",
            "MeerMage",
            "MeerWarrior",
            "MilitiaFighter",
            "Mimic",
            "MinionOfScelestus",
            "Minotaur",
            "MinotaurCaptain",
            "MinotaurGeneral",
            "MinotaurScout",
            "Moloch",
            "Mongbat",
            "MoundOfMaggots",
            "MountainGoat",
            "Mummy",
            "Nightmare",
            "Niporailem",
            "Ogre",
            "OgreLord",
            "Oni",
            "OphidianArchmage",
            "OphidianKnight",
            "OphidianMage",
            "OphidianMatriarch",
            "OphidianWarrior",
            "Orc",
            "OrcBomber",
            "OrcBrute",
            "OrcCaptain",
            "OrcChopper",
            "OrcishLord",
            "OrcishMage",
            "OrcScout",
            "Ortanord",
            "OsseinRam",
            "PackHorse",
            "PackLlama",
            "PalaminoHorse",
            "Panther",
            "ParoxysmusSwampDragon",
            "PatchworkSkeleton",
            "PestilentBandage",
            "Phoenix",
            "Pig",
            "PitFiend",
            "Pixie",
            "PlagueBeast",
            "PlagueBeastLord",
            "PlagueRat",
            "PlagueSpawn",
            "PlatinumDrake",
            "PoisonElemental",
            "PolarBear",
            "PredatorHellCat",
            "Protector",
            "PutridUndeadGargoyle",
            "PutridUndeadGuardian",
            "Quagmire",
            "Rabbit",
            "RagingGrizzlyBear",
            "RaiJu",
            "Raptor",
            "Rat",
            "Ratman",
            "RatmanArcher",
            "RatmanMage",
            "Ravager",
            "Reaper",
            "RedSolenInfiltratorQueen",
            "RedSolenInfiltratorWarrior",
            "RedSolenQueen",
            "RedSolenWarrior",
            "RedSolenWorker",
            "RenegadeChangeling",
            "Reptalon",
            "RestlessSoul",
            "Revenant",
            "RevenantLion",
            "RidableLlama",
            "Ridgeback",
            "Ronin",
            "RottingCorpse",
            "Rotworm",
            "RuddyBoura",
            "RuneBeetle",
            "SabertoothedTiger",
            "SandVortex",
            "SAPixie",
            "Satyr",
            "Savage",
            "SavageRider",
            "SavageRidgeback",
            "SavageShaman",
            "ScaledSwampDragon",
            "Scorpion",
            "SeaHorse",
            "SeaSerpent",
            "SentinelSpider",
            "SerpentineDragon",
            "SerpentsFangAssassin",
            "SerpentsFangHighExecutioner",
            "SewerRat",
            "Shade",
            "ShadowDweller",
            "ShadowIronElemental",
            "ShadowWisp",
            "ShadowWyrm",
            "Sheep",
            "SilverSerpent",
            "SilverSteed",
            "SkeletalCat",
            "SkeletalDragon",
            "SkeletalDrake",
            "SkeletalKnight",
            "SkeletalLich",
            "SkeletalMage",
            "SkeletalMount",
            "Skeleton",
            "SkitteringHopper",
            "Skree",
            "Slime",
            "Slith",
            "Snake",
            "SnowElemental",
            "SnowLeopard",
            "SolenHelper",
            "SpeckledScorpion",
            "SpectralArmour",
            "Spectre",
            "Spellbinder",
            "Squirrel",
            "StoneGargoyle",
            "StoneHarpy",
            "StoneMonster",
            "StoneSlith",
            "StrongMongbat",
            "StygianDrake",
            "Succubus",
            "SwampDragon",
            "SwampTentacle",
            "TanglingRoots",
            "TerathanAvenger",
            "TerathanDrone",
            "TerathanMatriarch",
            "TerathanWarrior",
            "TheButcher",
            "ThirdDawnParrot",
            "TigersClawMaster",
            "TigersClawThief",
            "TimberWolf",
            "Titan",
            "Tormented Minotaur",
            "ToxicElemental",
            "ToxicSlith",
            "TrapdoorSpider",
            "Treefellow",
            "TreefellowGuardian",
            "Triceratops",
            "Triton",
            "Troglodyte",
            "Troll",
            "TsukiWolf",
            "Turkey",
            "UndeadGargoyle",
            "UndeadGuardian",
            "UnfrozenMummy",
            "Unicorn",
            "ValoriteElemental",
            "VampireBat",
            "VeriteElemental",
            "Virulent",
            "Viscera",
            "VoidManesfistation",
            "VorpalBunny",
            "WailingBanshee",
            "Walrus",
            "WandererOfTheVoid",
            "WaterElemental",
            "WhippingVine",
            "WhiteWolf",
            "WhiteWyrm",
            "Wight",
            "WildTiger",
            "Windrunner",
            "Wisp",
            "WolfSpider",
            "Wraith",
            "Wyvern",
            "Yamandon",
            "YomotsuElder",
            "YomotsuPriest",
            "YomotsuWarrior",
            "YoungNinja",
            "YoungRonin",
            "Zombie"
        };

        // Default constructor
        [Attachable]
        public XmlRandomMinionStrike()
        {
        }

        // Constructor with serial, needed for deserialization
        public XmlRandomMinionStrike(ASerial serial) : base(serial)
        {
        }

        // When the attachment is attached to a mobile
        public override void OnAttach()
        {
            base.OnAttach();

            Mobile mob = AttachedTo as Mobile;

            if (mob != null)
            {
                AttachRandomMinionStrike(mob);
                Delete(); // Delete itself after attaching the random minion strike
            }
        }

        // Randomly selects a minion from the list and attaches it as a MinionStrike
        private void AttachRandomMinionStrike(Mobile mob)
        {
            Random random = new Random();
            int index = random.Next(MinionList.Length); // Select a random index

            string minionType = MinionList[index];

            // Attach the random MinionStrike with the selected minion type
            XmlAttachment minionStrike = (XmlAttachment)Activator.CreateInstance(typeof(XmlMinionStrike), minionType);
            XmlAttach.AttachTo(mob, minionStrike);

            mob.SendMessage($"A MinionStrike with a {minionType} has been attached to you!");
        }

        // Required method for serialization
        public override void Serialize(GenericWriter writer)
        {
            base.Serialize(writer);
            writer.Write((int)0); // version
        }

        // Required method for deserialization
        public override void Deserialize(GenericReader reader)
        {
            base.Deserialize(reader);
            int version = reader.ReadInt();
        }

        // For identifying the attachment
        public override string OnIdentify(Mobile from)
        {
            return "Random MinionStrike Attachment";
        }
    }
}
